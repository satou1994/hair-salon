<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <!-- Web表示設定 -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- プラグイン -->
    <link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital@1&family=Barlow:wght@200&display=swap" rel="stylesheet">
    <!-- css -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/admin-user.css">
    
    <title>EditUser:hair-salon-aki</title>
  </head>
  <body>
    <%- include('admin-header'); %> 
    
    <main>
      <div class="top">
        <h1 class="top-title">ユーザー 編集</h1>
      </div>
      
      <% if(locals.userId == 1){%>
        <div class="delete">
          <form action="/deleteUser/<%= user.id %>" method="post">
            <input id="delete" class="submitBtn" type="submit" value="削除">
          </form>
        </div>
      <% } %>

      <div class="error-message"><%= errors.message %></div>

      <form id="form" action="/editUser/<%= user.id %>" method="post">
        <div class="form-group">
          <label for="name">Name</label>
          <span id="blur-name" class="error"></span>
          <span id="error-name" class="error"></span>
          <span class="error"><%= errors.name%></span>
          <input type="text" name="name" id="name" value="<%= user.name %>">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <span id="blur-email" class="error"></span>
          <span id="error-email" class="error"></span>
          <span class="error"><%= errors.email%></span>
          <input type="text" name="email" id="email" value="<%= user.email %>">
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <span id="blur-password" class="error"></span>
          <span id="error-password" class="error"></span>
          <span class="error"><%= errors.password%></span>
          <input type="password" name="password" id="password" value="<%= user.password %>" onblur="blurPass(this)">
        </div>
        <div class="form-group">
          <span id="blur-password-check" class="error"></span>
          <span id="error-password-check" class="error"></span>
          <input type="password" name="password-check" id="password-check" onKeyUp="passCheck(value);" onblur="blurPassCheck(this)">
        </div>
        <input class="submitBtn" type="submit" value="編集">
      </form>

      <div class="return">
        <a class="button" href="/userList">戻る</a>
      </div>     
    </main>

    <%- include('admin-footer'); %>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/style.js"></script>
    <script src="/js/form.js"></script>
  </body>
</html>